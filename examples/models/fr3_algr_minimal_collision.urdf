<?xml version="1.0" ?>
<!--
FR3 URDF converted from

https://github.com/frankaemika/franka_ros/blob/develop/franka_description/robots/fr3/fr3.urdf.xacro

on July 11, 2023. These links stop at link 7 (i.e., they do not include the default
FR3 gripper, as it is replaced by the Allegro hand).
_______________________________________________________________________________________

Allegro URDF taken from

https://github.com/RobotLocomotion/drake/tree/master/manipulation/models/allegro_hand_description

on July 12, 2023.

_______________________________________________________________________________________

Collision geometries simplified further, October 2023. 

NOTATION FOR NAMES OF URDF ELEMENTS
* HAND: rh, lh: denotes right hand or left hand
* FINGER: th, if, mf, rf: denotes thumb, {index, middle, ring} finger

* FINGER PHALANGES: bs, px, md, ds: denotes {base, proximal, middle, distal} phalanges.
The base phalanx is non-biological and is used to connect the non-biological axial
joint to the finger.
* THUMB PHALANGES: mp, bs, px, ds: denotes {metacarpal, base, proximal, distal}
phalanges. The metacarpal phalanx is the one in the palm of the robot. Again, the base
phalanx is non-biological.

* FINGER JOINTS: axl, mcp, pip, dip: denotes {axial, metacarpophalangeal, proximal
interphalangeal, distal interphalangeal} joints for non-thumb fingers. Axial is the
non-biological joint that allows each finger to rotate about its axis. mcp, pip, and
dip joints are in order from closest to farthest from the palm.
* THUMB JOINTS: cmc, axl, mcp, ipl: denotes {carpometacarpal, axial,
metacarpophalangeal, interphalengeal} joints for the thumb. The cmc joint is the joint
connecting the thumb to the palm, the axial joint is the non-biological joint allowing
the thumb to axially rotate, and the mcp and ip joints are in order as above.

############################
######## LINK NAMES ########
############################
| LINK |    FINGER NAME    |
|######|###################|
| palm |   algr_rh_palm    |
|######|###################|
|  0   |   algr_rh_if_bs   |
|  1   |   algr_rh_if_px   |
|  2   |   algr_rh_if_md   |
|  3   |   algr_rh_if_ds   |
|######|###################|
|  4   |   algr_rh_mf_bs   |
|  5   |   algr_rh_mf_px   |
|  6   |   algr_rh_mf_md   |
|  7   |   algr_rh_mf_ds   |
|######|###################|
|  8   |   algr_rh_rf_bs   |
|  9   |   algr_rh_rf_px   |
|  10  |   algr_rh_rf_md   |
|  11  |   algr_rh_rf_ds   |
|######|###################|
|  12  |   algr_rh_th_mp   |
|  13  |   algr_rh_th_bs   |
|  14  |   algr_rh_th_px   |
|  15  |   algr_rh_th_ds   |
#######|####################

##############################
######### JOINT NAMES ########
##############################
| JOINT |     JOINT NAME     |
|#######|####################|
|   0   |   algr_rh_if_axl   |
|   1   |   algr_rh_if_mcp   |
|   2   |   algr_rh_if_pip   |
|   3   |   algr_rh_if_dip   |
|#######|####################|
|   4   |   algr_rh_mf_axl   |
|   5   |   algr_rh_mf_mcp   |
|   6   |   algr_rh_mf_pip   |
|   7   |   algr_rh_mf_dip   |
|#######|####################|
|   8   |   algr_rh_rf_axl   |
|   9   |   algr_rh_rf_mcp   |
|   10  |   algr_rh_rf_pip   |
|   11  |   algr_rh_rf_dip   |
|#######|####################|
|   12  |   algr_rh_th_cmc   |
|   13  |   algr_rh_th_axl   |
|   14  |   algr_rh_th_mcp   |
|   15  |   algr_rh_th_ipl   |
##############################
-->

<robot name="fr3_algr" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- Define some colors that we'll use elsewhere -->
  <material name="fr3_white">
    <color rgba=".9 .9 .9 1"/>
  </material>
  <material name="fingertip_white">
    <color rgba="1 1 1 1"/>
  </material>
  <material name="black">
    <color rgba="0.2 0.2 0.2 1"/>
  </material>

  <!-- TABLE -->
  <joint name="table_joint" type="fixed">
    <parent link="world"/>
    <child link="table"/>
    <origin rpy="0 0 0" xyz="0.50165 0 -0.05"/>
  </joint>
  <link name="table">
    <inertial>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
      <mass value="0"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </inertial>
    <visual>
      <geometry>
        <box size="1.3208 1.8288 0.1"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
    <collision>
      <geometry>
        <box size="1.3208 1.8288 0.1"/>
      </geometry>
    </collision>
  </link>

  <!-- FRANKA RESEARCH 3 -->

  <joint name="fixed" type="fixed">
    <parent link="world"/>
    <child link="fr3_link0"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="fr3_link0">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.025627 -8.893e-05 0.057289"/>
      <mass value="2.9"/>
      <inertia ixx="0.007716" ixy="-5.3076e-06" ixz="-0.0012493" iyy="0.010785" iyz="5.6894e-06" izz="0.010113"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link0.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <link name="fr3_link1">
    <inertial>
      <origin rpy="0 0 0" xyz="2.8379e-09 -0.032496 -0.067582"/>
      <mass value="2.7"/>
      <inertia ixx="0.017778" ixy="-8.4027e-09" ixz="-1.9345e-08" iyy="0.015681" iyz="0.0046076" izz="0.0061163"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link1.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <joint name="fr3_joint1" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0.333"/>
    <parent link="fr3_link0"/>
    <child link="fr3_link1"/>
    <axis xyz="0 0 1"/>
    <limit effort="87.0" lower="-2.3093" upper="2.3093" velocity="2.0"/>
    <dynamics D="1" K="7000" damping="0.003" friction="0.0" mu_coulomb="0" mu_viscous="16"/>
  </joint>
  <transmission>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr3_joint1"/>
    <actuator name="fr3_joint1_motor"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="fr3_link2">
    <inertial>
      <origin rpy="0 0 0" xyz="3.2943e-07 -0.06861 0.032229"/>
      <mass value="2.73"/>
      <inertia ixx="0.018219" ixy="8.7856e-08" ixz="3.9962e-08" iyy="0.0061909" iyz="-0.0047112" izz="0.016092"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link2.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <joint name="fr3_joint2" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="0 0 0"/>
    <parent link="fr3_link1"/>
    <child link="fr3_link2"/>
    <axis xyz="0 0 1"/>
    <limit effort="87" lower="-1.5133" upper="1.5133" velocity="1.0"/>
    <dynamics D="1" K="7000" damping="0.003" friction="0.0" mu_coulomb="0" mu_viscous="16"/>
  </joint>
  <transmission>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr3_joint2"/>
    <actuator name="fr3_joint2_motor"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="fr3_link3">
    <inertial>
      <origin rpy="0 0 0" xyz="0.047423 0.031102 -0.031454"/>
      <mass value="2.04"/>
      <inertia ixx="0.0067573" ixy="-0.0020121" ixz="-0.0028228" iyy="0.008415" iyz="-0.0018437" izz="0.0070717"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link3.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <joint name="fr3_joint3" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 -0.316 0"/>
    <parent link="fr3_link2"/>
    <child link="fr3_link3"/>
    <axis xyz="0 0 1"/>
    <limit effort="87" lower="-2.4937" upper="2.4937" velocity="1.5"/>
    <dynamics D="1" K="7000" damping="0.003" friction="0.0" mu_coulomb="0" mu_viscous="16"/>
  </joint>
  <transmission>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr3_joint3"/>
    <actuator name="fr3_joint3_motor"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="fr3_link4">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.035062 0.032431 0.031269"/>
      <mass value="2.08"/>
      <inertia ixx="0.0070777" ixy="0.0030175" ixz="-0.0020303" iyy="0.0072892" iyz="0.0019341" izz="0.0088588"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link4.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <joint name="fr3_joint4" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0.0825 0 0"/>
    <parent link="fr3_link3"/>
    <child link="fr3_link4"/>
    <axis xyz="0 0 1"/>
    <limit effort="87" lower="-2.7478" upper="-0.4461" velocity="1.25"/>
    <dynamics D="1" K="7000" damping="0.003" friction="0.0" mu_coulomb="0" mu_viscous="16"/>
  </joint>
  <transmission>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr3_joint4"/>
    <actuator name="fr3_joint4_motor"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="fr3_link5">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0001018 0.052585 -0.097978"/>
      <mass value="3"/>
      <inertia ixx="0.034036" ixy="9.1009e-06" ixz="2.2737e-06" iyy="0.030832" iyz="-0.0072392" izz="0.0063404"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link5.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <joint name="fr3_joint5" type="revolute">
    <origin rpy="-1.57079632679 0 0" xyz="-0.0825 0.384 0"/>
    <parent link="fr3_link4"/>
    <child link="fr3_link5"/>
    <axis xyz="0 0 1"/>
    <limit effort="12.0" lower="-2.48" upper="2.48" velocity="3.0"/>
    <dynamics D="1" K="7000" damping="0.003" friction="0.0" mu_coulomb="0" mu_viscous="16"/>
  </joint>
  <transmission>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr3_joint5"/>
    <actuator name="fr3_joint5_motor"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="fr3_link6">
    <inertial>
      <origin rpy="0 0 0" xyz="0.051282 0.0081813 0.0087806"/>
      <mass value="1.3"/>
      <inertia ixx="0.0020868" ixy="-0.00021366" ixz="0.0004467" iyy="0.0031775" iyz="7.8861e-05" izz="0.0040577"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link6.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <joint name="fr3_joint6" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0 0 0"/>
    <parent link="fr3_link5"/>
    <child link="fr3_link6"/>
    <axis xyz="0 0 1"/>
    <limit effort="12.0" lower="0.8521" upper="4.2094" velocity="1.5"/>
    <dynamics D="1" K="7000" damping="0.003" friction="0.0" mu_coulomb="0" mu_viscous="16"/>
  </joint>
  <transmission>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr3_joint6"/>
    <actuator name="fr3_joint6_motor"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="fr3_link7">
    <inertial>
      <origin rpy="0 0 0" xyz="0.010386 0.010335 0.075571"/>
      <mass value="0.2"/>
      <inertia ixx="0.00018519" ixy="-4.9376e-05" ixz="-6.2892e-06" iyy="0.00018454" iyz="-6.2561e-06" izz="0.00027909"/>
    </inertial>
    <visual>
      <geometry>
        <mesh filename="./meshes/fr3/visual/link7.obj"/>
      </geometry>
      <material name="fr3_white"/>
    </visual>
  </link>
  <joint name="fr3_joint7" type="revolute">
    <origin rpy="1.57079632679 0 0" xyz="0.088 0 0"/>
    <parent link="fr3_link6"/>
    <child link="fr3_link7"/>
    <axis xyz="0 0 1"/>
    <limit effort="12.0" lower="-2.6895" upper="2.6895" velocity="3.0"/>
    <dynamics D="1" K="7000" damping="0.003" friction="0.0" mu_coulomb="0" mu_viscous="16"/>
  </joint>
  <transmission>
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="fr3_joint7"/>
    <actuator name="fr3_joint7_motor"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>

  <!-- DUMMY FLANGE JOINT -->

  <joint name="fr3_flange_joint" type="fixed">
    <parent link="fr3_link7"/>
    <child link="fr3_flange"/>
    <origin rpy="0 0 -0.785398163397" xyz="0 0 0.107"/>
  </joint>
  <link name="fr3_flange">
    <inertial>
      <mass value="0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>

  <!-- FR3-TO-ALGR CONNECTOR -->

  <joint name="connector_fr3_joint" type="fixed">
    <parent link="fr3_flange"/>
    <child link="connector"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>
  <link name="connector">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <inertial>
      <origin rpy="0 0 0" xyz="0.00322 0.0036301 0.01115"/>
      <mass value="0.07"/>
      <inertia ixx="3.3683e-05" ixy="-1.357e-05" ixz="-4.9005e-06" iyy="8.6126e-05" iyz="-1.5861e-06" izz="0.00011139"/>
    </inertial>
    <visual>
      <origin rpy="0 0 -1.57079632679" xyz="0 0 0"/>
      <geometry>
        <mesh filename="./meshes/algr/connector.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
  </link>
  <joint name="connector_algr_joint" type="fixed">
    <parent link="connector"/>
    <child link="algr_rh_palm"/>
    <origin rpy="3.14159265359 -1.57079632679 0" xyz="0.13398 0 0.0265"/>
  </joint>

  <!-- CONNECTOR TO ZED2i -->
  <!-- [NOTE] for simplicity, the camera frame here is placed in the center of a box with the same outer dimensions as the ZED2i -->
  <link name="zed2i">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0040757 -3.6557e-05 0.014912"/>
      <mass value="0.23"/>
      <inertia ixx="0.00052706" ixy="3.0318e-10" ixz="-7.2796e-08" iyy="4.4624e-05" iyz="2.5156e-10" izz="0.0005377"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="./meshes/other/zed2i.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
  </link>
  <joint name="connector_zed2i_joint" type="fixed">
    <parent link="connector"/>
    <child link="zed2i"/>
    <origin rpy="0 -1.57079632679 0" xyz="-0.05568 0 0.021803664"/>
  </joint>
  <link name="zed2i_left_optical">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <inertial>
      <mass value="0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="zed2i_left_optical_joint" type="fixed">
    <parent link="zed2i"/>
    <child link="zed2i_left_optical"/>
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="-0.02 0.06 0.015"/>
  </joint>
  <link name="zed2i_right_optical">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <inertial>
      <mass value="0"/>
      <inertia ixx="0" ixy="0" ixz="0" iyy="0" iyz="0" izz="0"/>
    </inertial>
  </link>
  <joint name="zed2i_right_optical_joint" type="fixed">
    <parent link="zed2i"/>
    <child link="zed2i_right_optical"/>
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="-0.02 -0.06 0.015"/>
  </joint>

  <!-- ALLEGRO HAND -->

  <link name="algr_rh_palm">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/base_link.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.009300 0 -0.0475"/>
      <geometry>
        <box size="0.0408 0.1130 0.095"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0093 0 -0.0475"/>
      <mass value="0.4154"/>
      <inertia ixx="0.00075444" ixy="0" ixz="0" iyy="0.00037004" iyz="0" izz="0.00049964"/>
    </inertial>
  </link>
  
  <link name="algr_rh_if_bs">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_0.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.0082"/>
    </collision>
    <inertial>
      <mass value="0.0119"/>
      <origin rpy="0 0 0" xyz="0 0 0.0082"/>
      <inertia ixx="1.071e-06" ixy="0" ixz="0" iyy="1.071e-06" iyz="0" izz="1.071e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_if_axl" type="revolute">
    <axis xyz="0 0 1"/>
    <limit effort="0.7" lower="-0.55" upper="0.55" velocity="7"/>
    <parent link="algr_rh_palm"/>
    <child link="algr_rh_if_bs"/>
    <origin rpy="-0.08726646255 0 0" xyz="0 0.0435 -0.001542"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_if_axl_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_if_axl_motor"/>
    <joint name="algr_rh_if_axl"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_if_px">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_1.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.027"/>
    </collision>
    <inertial>
      <mass value="0.065"/>
      <origin rpy="0 0 0" xyz="0 0 0.027"/>
      <inertia ixx="5.85e-06" ixy="0" ixz="0" iyy="5.85e-06" iyz="0" izz="5.85e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_if_mcp" type="revolute">
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <axis xyz="0 1 0"/>
    <parent link="algr_rh_if_bs"/>
    <child link="algr_rh_if_px"/>
    <origin xyz="0 0 0.0164"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_if_mcp_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_if_mcp_motor"/>
    <joint name="algr_rh_if_mcp"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_if_md">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_2.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.0192"/>
    </collision>
    <inertial>
      <mass value="0.0355"/>
      <origin rpy="0 0 0" xyz="0 0 0.0192"/>
      <inertia ixx="3.195e-06" ixy="0" ixz="0" iyy="3.195e-06" iyz="0" izz="3.195e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_if_pip" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <parent link="algr_rh_if_px"/>
    <child link="algr_rh_if_md"/>
    <origin xyz="0 0 0.054"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_if_pip_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_if_pip_motor"/>
    <joint name="algr_rh_if_pip"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_if_ds">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_3.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.01335"/>
    </collision>
    <inertial>
      <mass value="0.0096"/>
      <origin rpy="0 0 0" xyz="0 0 0.01335"/>
      <inertia ixx="8.64e-07" ixy="0" ixz="0" iyy="8.64e-07" iyz="0" izz="8.64e-07"/>
    </inertial>
  </link>
  <joint name="algr_rh_if_dip" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <parent link="algr_rh_if_md"/>
    <child link="algr_rh_if_ds"/>
    <origin xyz="0 0 0.0384"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_if_dip_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_if_dip_motor"/>
    <joint name="algr_rh_if_dip"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_if_ds_tip">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_3.0_tip.obj"/>
      </geometry>
      <material name="fingertip_white"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.012"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0168"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="9.6768e-07" ixy="0" ixz="0" iyy="9.6768e-07" iyz="0" izz="9.6768e-07"/>
    </inertial>
  </link>
  <joint name="algr_rh_if_dip_tip" type="fixed">
    <parent link="algr_rh_if_ds"/>
    <child link="algr_rh_if_ds_tip"/>
    <origin rpy="0 0 0" xyz="0 0 0.0267"/>
  </joint>

  <!--
  The dummy joint introducing the contact frame for the index finger.
  The frame attached to the tip link is centered at the hemisphere with x axis pointing
  the same as the palm and the z axis aligned with the finger.
  [DEBUG] Currently placing the contact location at the very tip of the finger.
  -->
  <joint name="algr_rh_if_contact_joint" type="fixed">
    <parent link="algr_rh_if_ds_tip"/>
    <child link="algr_rh_if_CONTACT0"/>
    <origin rpy="0 0 0" xyz="0.01039230484 0 0.006"/>
  </joint>
  <link name="algr_rh_if_CONTACT0"/>

  <link name="algr_rh_mf_bs">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_0.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.0082"/>
    </collision>
    <inertial>
      <mass value="0.0119"/>
      <origin rpy="0 0 0" xyz="0 0 0.0082"/>
      <inertia ixx="1.071e-06" ixy="0" ixz="0" iyy="1.071e-06" iyz="0" izz="1.071e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_mf_axl" type="revolute">
    <axis xyz="0 0 1"/>
    <limit effort="0.7" lower="-0.55" upper="0.55" velocity="7"/>
    <parent link="algr_rh_palm"/>
    <child link="algr_rh_mf_bs"/>
    <origin rpy="0.0 0 0" xyz="0 0 0.0007"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_mf_axl_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_mf_axl_motor"/>
    <joint name="algr_rh_mf_axl"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_mf_px">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_1.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.027"/>
    </collision>
    <inertial>
      <mass value="0.065"/>
      <origin rpy="0 0 0" xyz="0 0 0.027"/>
      <inertia ixx="5.85e-06" ixy="0" ixz="0" iyy="5.85e-06" iyz="0" izz="5.85e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_mf_mcp" type="revolute">
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <axis xyz="0 1 0"/>
    <parent link="algr_rh_mf_bs"/>
    <child link="algr_rh_mf_px"/>
    <origin xyz="0 0 0.0164"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_mf_mcp_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_mf_mcp_motor"/>
    <joint name="algr_rh_mf_mcp"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_mf_md">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_2.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.0192"/>
    </collision>
    <inertial>
      <mass value="0.0355"/>
      <origin rpy="0 0 0" xyz="0 0 0.0192"/>
      <inertia ixx="3.195e-06" ixy="0" ixz="0" iyy="3.195e-06" iyz="0" izz="3.195e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_mf_pip" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <parent link="algr_rh_mf_px"/>
    <child link="algr_rh_mf_md"/>
    <origin xyz="0 0 0.054"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_mf_pip_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_mf_pip_motor"/>
    <joint name="algr_rh_mf_pip"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_mf_ds">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_3.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.01335"/>
    </collision>
    <inertial>
      <mass value="0.0096"/>
      <origin rpy="0 0 0" xyz="0 0 0.01335"/>
      <inertia ixx="8.64e-07" ixy="0" ixz="0" iyy="8.64e-07" iyz="0" izz="8.64e-07"/>
    </inertial>
  </link>
  <joint name="algr_rh_mf_dip" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <parent link="algr_rh_mf_md"/>
    <child link="algr_rh_mf_ds"/>
    <origin xyz="0 0 0.0384"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_mf_dip_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_mf_dip_motor"/>
    <joint name="algr_rh_mf_dip"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_mf_ds_tip">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_3.0_tip.obj"/>
      </geometry>
      <material name="fingertip_white"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.012"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0168"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="9.6768e-07" ixy="0" ixz="0" iyy="9.6768e-07" iyz="0" izz="9.6768e-07"/>
    </inertial>
  </link>
  <joint name="algr_rh_mf_dip_tip" type="fixed">
    <parent link="algr_rh_mf_ds"/>
    <child link="algr_rh_mf_ds_tip"/>
    <origin rpy="0 0 0" xyz="0 0 0.0267"/>
  </joint>

  <!--
  The dummy joint introducing the contact frame for the middle finger.
  The frame attached to the tip link is centered at the hemisphere with x axis pointing
  the same as the palm and the z axis aligned with the finger.
  [DEBUG] Currently placing the contact location at the very tip of the finger.
  -->
  <joint name="algr_rh_mf_contact_joint" type="fixed">
    <parent link="algr_rh_mf_ds_tip"/>
    <child link="algr_rh_mf_CONTACT1"/>
    <origin rpy="0 0 0" xyz="0.01039230484 0 0.006"/>
  </joint>
  <link name="algr_rh_mf_CONTACT1"/>

  <link name="algr_rh_rf_bs">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_0.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.0082"/>
    </collision>
    <inertial>
      <mass value="0.0119"/>
      <origin rpy="0 0 0" xyz="0 0 0.0082"/>
      <inertia ixx="1.071e-06" ixy="0" ixz="0" iyy="1.071e-06" iyz="0" izz="1.071e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_rf_axl" type="revolute">
    <axis xyz="0 0 1"/>
    <limit effort="0.7" lower="-0.55" upper="0.55" velocity="7"/>
    <parent link="algr_rh_palm"/>
    <child link="algr_rh_rf_bs"/>
    <origin rpy="0.08726646255 0 0" xyz="0 -0.0435 -0.001542"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_rf_axl_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_rf_axl_motor"/>
    <joint name="algr_rh_rf_axl"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_rf_px">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_1.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.027"/>
    </collision>
    <inertial>
      <mass value="0.065"/>
      <origin rpy="0 0 0" xyz="0 0 0.027"/>
      <inertia ixx="5.85e-06" ixy="0" ixz="0" iyy="5.85e-06" iyz="0" izz="5.85e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_rf_mcp" type="revolute">
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <axis xyz="0 1 0"/>
    <parent link="algr_rh_rf_bs"/>
    <child link="algr_rh_rf_px"/>
    <origin xyz="0 0 0.0164"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_rf_mcp_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_rf_mcp_motor"/>
    <joint name="algr_rh_rf_mcp"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_rf_md">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_2.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.0192"/>
    </collision>
    <inertial>
      <mass value="0.0355"/>
      <origin rpy="0 0 0" xyz="0 0 0.0192"/>
      <inertia ixx="3.195e-06" ixy="0" ixz="0" iyy="3.195e-06" iyz="0" izz="3.195e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_rf_pip" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <parent link="algr_rh_rf_px"/>
    <child link="algr_rh_rf_md"/>
    <origin xyz="0 0 0.054"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_rf_pip_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_rf_pip_motor"/>
    <joint name="algr_rh_rf_pip"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_rf_ds">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_3.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.01335"/>
    </collision>
    <inertial>
      <mass value="0.0096"/>
      <origin rpy="0 0 0" xyz="0 0 0.01335"/>
      <inertia ixx="8.64e-07" ixy="0" ixz="0" iyy="8.64e-07" iyz="0" izz="8.64e-07"/>
    </inertial>
  </link>
  <joint name="algr_rh_rf_dip" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.25" upper="1.72" velocity="7"/>
    <parent link="algr_rh_rf_md"/>
    <child link="algr_rh_rf_ds"/>
    <origin xyz="0 0 0.0384"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_rf_dip_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_rf_dip_motor"/>
    <joint name="algr_rh_rf_dip"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_rf_ds_tip">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_3.0_tip.obj"/>
      </geometry>
      <material name="fingertip_white"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.012"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0168"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="9.6768e-07" ixy="0" ixz="0" iyy="9.6768e-07" iyz="0" izz="9.6768e-07"/>
    </inertial>
  </link>
  <joint name="algr_rh_rf_dip_tip" type="fixed">
    <parent link="algr_rh_rf_ds"/>
    <child link="algr_rh_rf_ds_tip"/>
    <origin rpy="0 0 0" xyz="0 0 0.0267"/>
  </joint>

  <!--
  The dummy joint introducing the contact frame for the ring finger.
  The frame attached to the tip link is centered at the hemisphere with x axis pointing
  the same as the palm and the z axis aligned with the finger.
  [DEBUG] Currently placing the contact location at the very tip of the finger.
  -->
  <joint name="algr_rh_rf_contact_joint" type="fixed">
    <parent link="algr_rh_rf_ds_tip"/>
    <child link="algr_rh_rf_CONTACT2"/>
    <origin rpy="0 0 0" xyz="0.01039230484 0 0.006"/>
  </joint>
  <link name="algr_rh_rf_CONTACT2"/>

  <link name="algr_rh_th_mp">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_12.0_right.obj"/>
      </geometry>
      <material name="black"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="-0.0179 0.009 0.0145"/>
    </collision>
    <inertial>
      <mass value="0.0176"/>
      <origin rpy="0 0 0" xyz="-0.0179 0.009 0.0145"/>
      <inertia ixx="1.584e-06" ixy="0" ixz="0" iyy="1.584e-06" iyz="0" izz="1.584e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_th_cmc" type="revolute">
    <axis xyz="-1 0 0"/>
    <limit effort="0.7" lower="0.263" upper="1.5" velocity="7"/>
    <parent link="algr_rh_palm"/>
    <child link="algr_rh_th_mp"/>
    <origin rpy="0 -1.65806278845 -1.5707963259" xyz="-0.0182 0.019333 -0.045987"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_th_cmc_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_th_cmc_motor"/>
    <joint name="algr_rh_th_cmc"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_th_bs">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_13.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.00885"/>
    </collision>
    <inertial>
      <mass value="0.0119"/>
      <origin rpy="0 0 0" xyz="0 0 0.00885"/>
      <inertia ixx="1.071e-06" ixy="0" ixz="0" iyy="1.071e-06" iyz="0" izz="1.071e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_th_axl" type="revolute">
    <axis xyz="0 0 1"/>
    <limit effort="0.7" lower="-0.3" upper="1.1" velocity="7"/>
    <parent link="algr_rh_th_mp"/>
    <child link="algr_rh_th_bs"/>
    <origin xyz="-0.027 0.005 0.0399"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_th_axl_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_th_axl_motor"/>
    <joint name="algr_rh_th_axl"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_th_px">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_14.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.0257"/>
    </collision>
    <inertial>
      <mass value="0.038"/>
      <origin rpy="0 0 0" xyz="0 0 0.0257"/>
      <inertia ixx="3.42e-06" ixy="0" ixz="0" iyy="3.42e-06" iyz="0" izz="3.42e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_th_mcp" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.1" upper="1.71" velocity="7"/>
    <parent link="algr_rh_th_bs"/>
    <child link="algr_rh_th_px"/>
    <origin xyz="0 0 0.0177"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_th_mcp_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_th_mcp_motor"/>
    <joint name="algr_rh_th_mcp"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_th_ds">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_15.0.obj"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.015"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0.02115"/>
    </collision>
    <inertial>
      <mass value="0.0388"/>
      <origin rpy="0 0 0" xyz="0 0 0.02115"/>
      <inertia ixx="3.492e-06" ixy="0" ixz="0" iyy="3.492e-06" iyz="0" izz="3.492e-06"/>
    </inertial>
  </link>
  <joint name="algr_rh_th_ipl" type="revolute">
    <axis xyz="0 1 0"/>
    <limit effort="0.7" lower="-0.1" upper="1.7" velocity="7"/>
    <parent link="algr_rh_th_px"/>
    <child link="algr_rh_th_ds"/>
    <origin xyz="0 0 0.0514"/>
    <dynamics damping="1.5e-2" friction="0"/>
  </joint>
  <transmission name="algr_rh_th_ipl_trans" type="transmission_interface/SimpleTransmission">
    <actuator name="algr_rh_th_ipl_motor"/>
    <joint name="algr_rh_th_ipl"/>
    <mechanicalReduction>1</mechanicalReduction>
    <motorTorqueConstant>1</motorTorqueConstant>
  </transmission>
  <link name="algr_rh_th_ds_tip">
    <visual>
      <geometry>
        <mesh filename="./meshes/algr/link_15.0_tip.obj"/>
      </geometry>
      <material name="fingertip_white"/>
    </visual>
    <collision>
      <geometry>
        <sphere radius="0.012"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.0168"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="9.6768e-07" ixy="0" ixz="0" iyy="9.6768e-07" iyz="0" izz="9.6768e-07"/>
    </inertial>
  </link>
  <joint name="algr_rh_th_ipl_tip" type="fixed">
    <parent link="algr_rh_th_ds"/>
    <child link="algr_rh_th_ds_tip"/>
    <origin rpy="0 0 0" xyz="0 0 0.0423"/>
  </joint>

  <!--
  The dummy joint introducing the contact frame for the thumb.
  The frame attached to the tip link is centered at the hemisphere with x axis pointing
  the same as the palm and the z axis aligned with the finger.
  [DEBUG] Currently placing the contact location at the very tip of the finger.
  -->
  <joint name="algr_rh_th_contact_joint" type="fixed">
    <parent link="algr_rh_th_ds_tip"/>
    <child link="algr_rh_th_CONTACT3"/>
    <origin rpy="0 0 0" xyz="0.01039230484 0 0.006"/>
  </joint>
  <link name="algr_rh_th_CONTACT3"/>

  <!-- Ignore all self-collisions within the hand (for now) -->
  <drake:collision_filter_group name="all_links">
    <drake:member link="algr_rh_palm"/>
    <drake:member link="algr_rh_if_bs"/>
    <drake:member link="algr_rh_if_px"/>
    <drake:member link="algr_rh_if_md"/>
    <drake:member link="algr_rh_if_ds"/>
    <drake:member link="algr_rh_mf_bs"/>
    <drake:member link="algr_rh_mf_px"/>
    <drake:member link="algr_rh_mf_md"/>
    <drake:member link="algr_rh_mf_ds"/>
    <drake:member link="algr_rh_rf_bs"/>
    <drake:member link="algr_rh_rf_px"/>
    <drake:member link="algr_rh_rf_md"/>
    <drake:member link="algr_rh_rf_ds"/>
    <drake:ignored_collision_filter_group name="all_links"/>
  </drake:collision_filter_group>

</robot>
